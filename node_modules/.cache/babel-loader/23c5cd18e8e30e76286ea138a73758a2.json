{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\HenY\\\\Documents\\\\GitHub\\\\ieo-rep\\\\ieo-website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\HenY\\\\Documents\\\\GitHub\\\\ieo-rep\\\\ieo-website\\\\src\\\\pages\\\\ContactUs.js\";\nimport React, { useContext } from 'react';\nimport Image from '../components/shared/Image';\nimport { AppContext } from '../context/app';\nimport useFetch from '../hooks/useFetch';\nimport { renderText } from '../helpers';\nimport Modal from 'react-responsive-modal';\n\nconst ContactUs = () => {\n  const _useContext = useContext(AppContext),\n        _useContext$pages$con = _useContext.pages['contact-us'],\n        title = _useContext$pages$con.title,\n        subtitle = _useContext$pages$con.subtitle,\n        hero = _useContext$pages$con.hero,\n        form = _useContext$pages$con.form;\n\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        open = _React$useState2[0],\n        setOpen = _React$useState2[1];\n\n  const _React$useState3 = React.useState('תודה!'),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        text = _React$useState4[0],\n        setText = _React$useState4[1];\n\n  const Popup = params => {\n    console.log(params);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      open: params.isOpened,\n      onClose: () => params.openFunc(false),\n      center: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        'padding': '10%',\n        'text-align': 'center',\n        'min-width': '200px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, params.text)));\n  };\n\n  const _useFetch = useFetch(form.url),\n        data = _useFetch.data,\n        loading = _useFetch.loading;\n\n  const sendToBitrix = event => {\n    event.preventDefault();\n    var formNode = document.getElementById('contact_us_form');\n    var data = new FormData(formNode);\n    let bitrixURL = 'https://gobemark.info/rest/483/ya23gupm0zmpwajn/crm.lead.add';\n    var leadData = {\n      'TITLE': data.get('name:first') + ' ' + data.get('name:last'),\n      'NAME': data.get('name:first'),\n      'LAST_NAME': data.get('name:last'),\n      'PHONE': [{\n        'VALUE': data.get('phone'),\n        'TYPE': 'HOME'\n      }],\n      'EMAIL': [{\n        'VALUE': data.get('email'),\n        'TYPE': 'HOME'\n      }],\n      'COMPANY_TITLE': data.get('company'),\n      'POST': data.get('position'),\n      'COMMENTS': data.get('comment'),\n      'UF_CRM_1566463901338': data.get('subscription') == 'on' ? 'Y' : 'N',\n      'UF_CRM_1566463931515': data.get('seller') == 'on' ? 'Y' : 'N'\n    };\n    fetch(bitrixURL, {\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      redirect: 'follow',\n      referrer: 'no-referrer',\n      body: JSON.stringify({\n        fields: leadData\n      })\n    }).then(res => {\n      console.log(res);\n      setOpen(true);\n\n      if (res['ok']) {\n        setText('תודה!');\n\n        for (let _ref of data) {\n          var _ref2 = _slicedToArray(_ref, 2);\n\n          let name = _ref2[0];\n          let value = _ref2[1];\n          data.delete(name);\n        }\n      } else {\n        setText('טעות!');\n      }\n    });\n    return false;\n  };\n\n  return React.createElement(\"section\", {\n    className: \"contact-us\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(Popup, {\n    isOpened: open,\n    openFunc: setOpen,\n    text: text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container container--normal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"contact-us__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"contact-us__title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, title), React.createElement(\"h5\", {\n    className: \"contact-us__subtitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, renderText(subtitle))), React.createElement(\"main\", {\n    className: \"contact-us__main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, loading === false && React.createElement(\"form\", {\n    className: \"contact-form\",\n    id: \"contact_us_form\",\n    onSubmit: sendToBitrix,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"contact-form__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"contact-form__title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"\\u05E9\\u05D3\\u05D5\\u05EA \\u05D7\\u05D5\\u05D1\\u05D4 *\")), React.createElement(\"main\", {\n    className: \"contact-form__main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"input:name:first\",\n    name: \"name:first\",\n    className: \"Label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9 *\"), React.createElement(\"input\", {\n    name: \"name:first\",\n    className: \"Input\",\n    label: \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9 *\",\n    type: \"text\",\n    required: true,\n    id: \"input:name:first\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"input:name:last\",\n    name: \"name:last\",\n    className: \"Label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4 *\"), React.createElement(\"input\", {\n    name: \"name:last\",\n    className: \"Input\",\n    label: \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4 *\",\n    type: \"text\",\n    required: true,\n    id: \"input:name:last\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"input:phone\",\n    name: \"phone\",\n    className: \"Label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"\\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF *\"), React.createElement(\"input\", {\n    name: \"phone\",\n    className: \"Input\",\n    label: \"\\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF *\",\n    type: \"tel\",\n    required: true,\n    id: \"input:phone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"input:email\",\n    name: \"email\",\n    className: \"Label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"\\u05D3\\u05D5\\u05D0\\\"\\u05DC *\"), React.createElement(\"input\", {\n    name: \"email\",\n    className: \"Input\",\n    label: \"\\u05D3\\u05D5\\u05D0\\\"\\u05DC *\",\n    type: \"email\",\n    required: true,\n    id: \"input:email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"input:company\",\n    name: \"company\",\n    className: \"Label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"\\u05D7\\u05D1\\u05E8\\u05D4 *\"), React.createElement(\"input\", {\n    name: \"company\",\n    className: \"Input\",\n    label: \"\\u05D7\\u05D1\\u05E8\\u05D4 *\",\n    type: \"text\",\n    required: true,\n    id: \"input:company\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"input:position\",\n    name: \"position\",\n    className: \"Label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"\\u05EA\\u05E4\\u05E7\\u05D9\\u05D3\"), React.createElement(\"input\", {\n    name: \"position\",\n    className: \"Input\",\n    label: \"\\u05EA\\u05E4\\u05E7\\u05D9\\u05D3\",\n    type: \"text\",\n    id: \"input:position\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"input:comment\",\n    name: \"comment\",\n    className: \"Label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"\\u05D4\\u05D5\\u05D3\\u05E2\\u05D4\"), React.createElement(\"textarea\", {\n    name: \"comment\",\n    className: \"Input Textarea\",\n    label: \"\\u05D4\\u05D5\\u05D3\\u05E2\\u05D4\",\n    type: \"textarea\",\n    rows: \"6\",\n    id: \"input:comment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"input:seller\",\n    name: \"seller\",\n    className: \"Label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"\\u05DE\\u05D1\\u05E7\\u05E9\\\\\\u05EA \\u05DC\\u05D9\\u05E6\\u05D5\\u05E8 \\u05E7\\u05E9\\u05E8 \\u05E2\\u05DD \\u05D0\\u05D9\\u05E9 \\u05DE\\u05DB\\u05D9\\u05E8\\u05D5\\u05EA\"), React.createElement(\"input\", {\n    name: \"seller\",\n    className: \"Input\",\n    label: \"\\u05DE\\u05D1\\u05E7\\u05E9\\\\\\u05EA \\u05DC\\u05D9\\u05E6\\u05D5\\u05E8 \\u05E7\\u05E9\\u05E8 \\u05E2\\u05DD \\u05D0\\u05D9\\u05E9 \\u05DE\\u05DB\\u05D9\\u05E8\\u05D5\\u05EA\",\n    type: \"checkbox\",\n    id: \"input:seller\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"input:subscription\",\n    name: \"subscription\",\n    className: \"Label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"\\u05D4\\u05D0\\u05DD \\u05EA\\u05E8\\u05E6\\u05D5 \\u05DC\\u05E7\\u05D1\\u05DC \\u05D7\\u05D3\\u05E9\\u05D5\\u05EA \\u05D5\\u05E2\\u05D3\\u05DB\\u05D5\\u05E0\\u05D9\\u05DD?\"), React.createElement(\"input\", {\n    name: \"subscription\",\n    className: \"Input\",\n    label: \"\\u05D4\\u05D0\\u05DD \\u05EA\\u05E8\\u05E6\\u05D5 \\u05DC\\u05E7\\u05D1\\u05DC \\u05D7\\u05D3\\u05E9\\u05D5\\u05EA \\u05D5\\u05E2\\u05D3\\u05DB\\u05D5\\u05E0\\u05D9\\u05DD?\",\n    type: \"checkbox\",\n    id: \"input:subscription\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    name: \"pay\",\n    className: \"Input Submit Button\",\n    label: \"\\u05E9\\u05DC\\u05D7/\\u05D9\",\n    id: \"input:pay\",\n    type: \"submit\",\n    value: \"\\u05E9\\u05DC\\u05D7/\\u05D9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }))), React.createElement(Image, Object.assign({}, hero, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  })))));\n};\n\nexport default ContactUs;","map":{"version":3,"sources":["C:\\Users\\HenY\\Documents\\GitHub\\ieo-rep\\ieo-website\\src\\pages\\ContactUs.js"],"names":["React","useContext","Image","AppContext","useFetch","renderText","Modal","ContactUs","pages","title","subtitle","hero","form","useState","open","setOpen","text","setText","Popup","params","console","log","isOpened","openFunc","url","data","loading","sendToBitrix","event","preventDefault","formNode","document","getElementById","FormData","bitrixURL","leadData","get","fetch","method","mode","cache","credentials","headers","redirect","referrer","body","JSON","stringify","fields","then","res","name","value","delete"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\r\n\r\nimport Image from '../components/shared/Image';\r\n\r\nimport { AppContext } from '../context/app';\r\nimport useFetch from '../hooks/useFetch';\r\n\r\nimport { renderText } from '../helpers';\r\n\r\nimport Modal from 'react-responsive-modal';\r\n\r\nconst ContactUs = () => {\r\n  const { pages: {\r\n    'contact-us': {\r\n      title,\r\n      subtitle,\r\n      hero,\r\n      form\r\n    }\r\n  } } = useContext(AppContext);\r\n\r\n  \r\n  const [open, setOpen] = React.useState(false)\r\n  const [text, setText] = React.useState('תודה!')\r\n\r\n  const Popup = (params) => {\r\n    console.log(params)\r\n    return (\r\n    <div>\r\n      <Modal open={params.isOpened} onClose={() => params.openFunc(false)} center>\r\n        <h2 style={{\r\n          'padding' : '10%',\r\n          'text-align': 'center',\r\n          'min-width': '200px' \r\n          }}>{params.text}</h2>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\n  const { data, loading } = useFetch(form.url);\r\n\r\n  const sendToBitrix = (event) => {\r\n    event.preventDefault();\r\n\r\n    var formNode = document.getElementById('contact_us_form');\r\n    var data = new FormData(formNode);\r\n\r\n    let bitrixURL = 'https://gobemark.info/rest/483/ya23gupm0zmpwajn/crm.lead.add';\r\n\r\n    var leadData = {\r\n      'TITLE': data.get('name:first')+' '+data.get('name:last'),\r\n      'NAME' : data.get('name:first'),\r\n      'LAST_NAME' : data.get('name:last'),\r\n      'PHONE' : [{'VALUE': data.get('phone'), 'TYPE': 'HOME'}],\r\n      'EMAIL' : [{'VALUE': data.get('email'), 'TYPE':'HOME'}],\r\n      'COMPANY_TITLE' : data.get('company'),\r\n      'POST' : data.get('position'),\r\n      'COMMENTS' : data.get('comment'),\r\n      'UF_CRM_1566463901338' : data.get('subscription')=='on'?'Y':'N',\r\n      'UF_CRM_1566463931515' : data.get('seller')=='on'?'Y':'N'\r\n    }\r\n\r\n    fetch(bitrixURL, {\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      cache: 'no-cache',\r\n      credentials: 'same-origin',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      redirect: 'follow',\r\n      referrer: 'no-referrer',\r\n      body: JSON.stringify({fields: leadData}),\r\n    }).then((res) => {\r\n      console.log(res);\r\n\r\n      setOpen(true);\r\n\r\n      if (res['ok']){\r\n        setText('תודה!')\r\n\r\n        for(let [name, value] of data){\r\n          data.delete(name);\r\n        }\r\n      } else {\r\n        setText('טעות!')\r\n      }\r\n    });\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <section className=\"contact-us\">\r\n    <Popup isOpened={open} openFunc={setOpen} text={text}/>\r\n      <div className=\"container container--normal\">\r\n        <header className=\"contact-us__header\">\r\n          <h2 className=\"contact-us__title\">{title}</h2>\r\n          <h5 className=\"contact-us__subtitle\">{renderText(subtitle)}</h5>\r\n        </header>\r\n        <main className=\"contact-us__main\">\r\n          {(loading === false) && (\r\n            \r\n            <form className=\"contact-form\" id=\"contact_us_form\" onSubmit={sendToBitrix}>\r\n              <header className=\"contact-form__header\">\r\n                <h4 className=\"contact-form__title\">שדות חובה *</h4>\r\n              </header>\r\n              <main className=\"contact-form__main\">\r\n                <label htmlFor=\"input:name:first\" name=\"name:first\" className=\"Label\">שם פרטי *</label>\r\n                <input name=\"name:first\" className=\"Input\" label=\"שם פרטי *\" type=\"text\" required id=\"input:name:first\" /> \r\n                <label htmlFor=\"input:name:last\" name=\"name:last\" className=\"Label\">שם משפחה *</label>\r\n                <input name=\"name:last\" className=\"Input\" label=\"שם משפחה *\" type=\"text\" required id=\"input:name:last\"/>\r\n                <label htmlFor=\"input:phone\" name=\"phone\" className=\"Label\">מספר טלפון *</label>\r\n                <input name=\"phone\" className=\"Input\" label=\"מספר טלפון *\" type=\"tel\" required id=\"input:phone\"/>\r\n                <label htmlFor=\"input:email\" name=\"email\" className=\"Label\">דוא\"ל *</label>\r\n                <input name=\"email\" className=\"Input\" label=\"דוא&quot;ל *\" type=\"email\" required id=\"input:email\"/>\r\n                <label htmlFor=\"input:company\" name=\"company\" className=\"Label\">חברה *</label>\r\n                <input name=\"company\" className=\"Input\" label=\"חברה *\" type=\"text\" required id=\"input:company\"/>\r\n                <label htmlFor=\"input:position\" name=\"position\" className=\"Label\">תפקיד</label>\r\n                <input name=\"position\" className=\"Input\" label=\"תפקיד\" type=\"text\" id=\"input:position\"/>\r\n                <label htmlFor=\"input:comment\" name=\"comment\" className=\"Label\">הודעה</label>\r\n                <textarea name=\"comment\" className=\"Input Textarea\" label=\"הודעה\" type=\"textarea\" rows=\"6\" id=\"input:comment\"></textarea>\r\n                <label htmlFor=\"input:seller\" name=\"seller\" className=\"Label\">מבקש\\ת ליצור קשר עם איש מכירות</label>\r\n                <input name=\"seller\" className=\"Input\" label=\"מבקש\\ת ליצור קשר עם איש מכירות\" type=\"checkbox\" id=\"input:seller\"/>\r\n                <label htmlFor=\"input:subscription\" name=\"subscription\" className=\"Label\">האם תרצו לקבל חדשות ועדכונים?</label>\r\n                <input name=\"subscription\" className=\"Input\" label=\"האם תרצו לקבל חדשות ועדכונים?\" type=\"checkbox\" id=\"input:subscription\"/>\r\n                <input name=\"pay\" className=\"Input Submit Button\" label=\"שלח/י\" id=\"input:pay\" type=\"submit\" value=\"שלח/י\"/>\r\n              </main>\r\n            </form>\r\n          )}\r\n          <Image {...hero} />\r\n        </main>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ContactUs;"]},"metadata":{},"sourceType":"module"}